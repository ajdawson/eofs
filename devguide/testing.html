<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Running the test suite &#8212; eofs 2.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx13.css?v=84d1f121" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <script src="../_static/documentation_options.js?v=51b770b3"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Developer Guide" href="index.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
     
        <style type="text/css">
            table.right { float: right; margin-left: 20px; }
            table.right td { border: 1px solid #ccc; }
        </style>
        <script type="text/javascript">
            // intelligent scrolling of the sidebar content
            $(window).scroll(function() {
                var sb = $('.sphinxsidebarwrapper');
                var win = $(window);
                var sbh = sb.height();
                var offset = $('.sphinxsidebar').position()['top'];
                var wintop = win.scrollTop();
                var winbot = wintop + win.innerHeight();
                var curtop = sb.position()['top'];
                var curbot = curtop + sbh;
                // does sidebar fit in window?
                if (sbh < win.innerHeight()) {
                    // yes: easy case -- always keep at the top
                    sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                         $(document).height() - sbh - 200]));
                } else {
                    // no: only scroll if top/bottom edge of sidebar is at
                    // top/bottom edge of window
                    if (curtop > wintop && curbot > winbot) {
                        sb.css('top', $u.max([wintop - offset - 10, 0]));
                    } else if (curtop < wintop && curbot < winbot) {
                        sb.css('top', $u.min([winbot - sbh - offset - 20,
                                             $(document).height() - sbh - 200]));
                    }
                }
            });
        </script>

  </head><body>
<div class="pageheader">
  <div>
    <a href="../index.html">
      <img src="../_static/eofsheader.png" alt="SPHINX" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="index.html" title="Developer Guide"
             accesskey="P">previous</a> |</li>
    <li><a href="../index.html">home</a>|&nbsp;</li>
    <li><a href="../search.html">search</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Developer Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Running the test suite</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">

    <h2>eofs v2.0.0</h2>
    <h3>Table of Contents</h3>
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../userguide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API references</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Running the test suite</a></li>
</ul>
</li>
</ul>


  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="index.html"
                          title="previous chapter">Developer Guide</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/devguide/testing.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
  
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="running-the-test-suite">
<h1>Running the test suite<a class="headerlink" href="#running-the-test-suite" title="Link to this heading">¶</a></h1>
<p>The package comes with a comprehensive set of tests to make sure it is working correctly.
The tests can be run against an installed version of <cite>eofs</cite> or against the current source tree.
Testing against the source tree is handy during development when quick iteration is required, but for most other cases testing against the installed version is more suitable.</p>
<p>Running the test suite requires <a class="reference external" href="https://docs.pytest.org/en/latest/">pytest</a> to be installed.
The test suite will function as long as the minimum dependencies for the package are installed, but some tests will be skipped if they require optional dependencies that are not present.
To run the full test suite you need to have the optional dependencies <a class="reference external" href="http://scitools.org.uk/iris">iris</a> and <a class="reference external" href="http://xarray.pydata.org">xarray</a> installed.</p>
<section id="testing-against-the-current-source-tree">
<h2>Testing against the current source tree<a class="headerlink" href="#testing-against-the-current-source-tree" title="Link to this heading">¶</a></h2>
<p>Testing the current source is straightforward, from the source directory run:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pytest</span>
</pre></div>
</div>
<p>This will perform verbose testing of the current source tree and print a summary at the end.</p>
</section>
<section id="testing-an-installed-version">
<h2>Testing an installed version<a class="headerlink" href="#testing-an-installed-version" title="Link to this heading">¶</a></h2>
<p>First you need to install <cite>eofs</cite> into your current Python environment:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">code</span><span class="o">-</span><span class="n">block</span><span class="p">::</span> <span class="n">shell</span>
</pre></div>
</div>
<blockquote>
<div><p>cd eofs/
python -m pip install “.[iris,xarray]”</p>
</div></blockquote>
<p>Then create a directory somewhere else without any Python code in it and run <code class="docutils literal notranslate"><span class="pre">pytest</span></code> from there:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">code</span><span class="o">-</span><span class="n">block</span><span class="p">::</span> <span class="n">shell</span>
</pre></div>
</div>
<blockquote>
<div><p>mkdir $HOME/eofs-test-dir &amp;&amp; cd $HOME/eofs-test-dir
python -m pytest –pyargs eofs</p>
</div></blockquote>
<p>This will run the tests on the version of <cite>eofs</cite> you just installed.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
  <script type=text/javascript src="/eofs/version_switch.js" async></script>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="index.html" title="Developer Guide"
             >previous</a> |</li>
    <li><a href="../index.html">home</a>|&nbsp;</li>
    <li><a href="../search.html">search</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >Developer Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Running the test suite</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2013-2024 Andrew Dawson.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>