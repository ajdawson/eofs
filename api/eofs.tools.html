<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>eofs.tools &#8212; eofs 2.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx13.css?v=84d1f121" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <script src="../_static/documentation_options.js?v=51b770b3"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="eofs.multivariate.standard" href="eofs.multivariate.standard.html" />
    <link rel="prev" title="eofs.xarray" href="eofs.xarray.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
     
        <style type="text/css">
            table.right { float: right; margin-left: 20px; }
            table.right td { border: 1px solid #ccc; }
        </style>
        <script type="text/javascript">
            // intelligent scrolling of the sidebar content
            $(window).scroll(function() {
                var sb = $('.sphinxsidebarwrapper');
                var win = $(window);
                var sbh = sb.height();
                var offset = $('.sphinxsidebar').position()['top'];
                var wintop = win.scrollTop();
                var winbot = wintop + win.innerHeight();
                var curtop = sb.position()['top'];
                var curbot = curtop + sbh;
                // does sidebar fit in window?
                if (sbh < win.innerHeight()) {
                    // yes: easy case -- always keep at the top
                    sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                         $(document).height() - sbh - 200]));
                } else {
                    // no: only scroll if top/bottom edge of sidebar is at
                    // top/bottom edge of window
                    if (curtop > wintop && curbot > winbot) {
                        sb.css('top', $u.max([wintop - offset - 10, 0]));
                    } else if (curtop < wintop && curbot < winbot) {
                        sb.css('top', $u.min([winbot - sbh - offset - 20,
                                             $(document).height() - sbh - 200]));
                    }
                }
            });
        </script>

  </head><body>
<div class="pageheader">
  <div>
    <a href="../index.html">
      <img src="../_static/eofsheader.png" alt="SPHINX" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="eofs.multivariate.standard.html" title="eofs.multivariate.standard"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="eofs.xarray.html" title="eofs.xarray"
             accesskey="P">previous</a> |</li>
    <li><a href="../index.html">home</a>|&nbsp;</li>
    <li><a href="../search.html">search</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">API references</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">eofs.tools</span></code></a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">

    <h2>eofs v2.0.0</h2>
    <h3>Table of Contents</h3>
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../userguide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API references</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#available-eof-solvers">Available EOF solvers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#full-documentation">Full documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devguide/index.html">Developer Guide</a></li>
</ul>


  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="eofs.xarray.html"
                          title="previous chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">eofs.xarray</span></code></a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="eofs.multivariate.standard.html"
                          title="next chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">eofs.multivariate.standard</span></code></a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/eofs.tools.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
  
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-eofs.tools">
<span id="eofs-tools"></span><h1><a class="reference internal" href="#module-eofs.tools" title="eofs.tools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">eofs.tools</span></code></a><a class="headerlink" href="#module-eofs.tools" title="Link to this heading">¶</a></h1>
<p>Tools related to EOF analysis.</p>
<section id="module-eofs.tools.standard">
<span id="eofs-tools-standard"></span><h2><a class="reference internal" href="#module-eofs.tools.standard" title="eofs.tools.standard"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eofs.tools.standard</span></code></a><a class="headerlink" href="#module-eofs.tools.standard" title="Link to this heading">¶</a></h2>
<p>Supplementary tools for the <a class="reference external" href="https://numpy.org/doc/stable/reference/index.html#module-numpy" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy</span></code></a> EOF analysis interface.</p>
<dl class="py function">
<dt class="sig sig-object py" id="eofs.tools.standard.correlation_map">
<span class="sig-prename descclassname"><span class="pre">eofs.tools.standard.</span></span><span class="sig-name descname"><span class="pre">correlation_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pcs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eofs/tools/standard.html#correlation_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#eofs.tools.standard.correlation_map" title="Link to this definition">¶</a></dt>
<dd><p>Correlation maps for a set of PCs and a spatial-temporal field.</p>
<p>Given an array where the columns are PCs (e.g., as output from
<a class="reference internal" href="eofs.standard.html#eofs.standard.Eof.pcs" title="eofs.standard.Eof.pcs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pcs</span></code></a>) and an array containing spatial-temporal
data where the first dimension represents time, one correlation map
per PC is computed.</p>
<p>The field must have the same temporal dimension as the PCs. Any
number of spatial dimensions (including zero) are allowed in the
field and there can be any number of PCs.</p>
<p><strong>Arguments:</strong></p>
<dl class="simple">
<dt><em>pcs</em></dt><dd><p>PCs as the columns of an array.</p>
</dd>
<dt><em>field</em></dt><dd><p>Spatial-temporal field with time as the first dimension.</p>
</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="simple">
<dt><em>correlation_maps</em></dt><dd><p>An array with the correlation maps along the first dimension.</p>
</dd>
</dl>
<p><strong>Example:</strong></p>
<p>Compute correlation maps for each PC:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pcs</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">pcs</span><span class="p">(</span><span class="n">pcscaling</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">correlation_maps</span> <span class="o">=</span> <span class="n">correlation_maps</span><span class="p">(</span><span class="n">pcs</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eofs.tools.standard.covariance_map">
<span class="sig-prename descclassname"><span class="pre">eofs.tools.standard.</span></span><span class="sig-name descname"><span class="pre">covariance_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pcs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ddof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eofs/tools/standard.html#covariance_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#eofs.tools.standard.covariance_map" title="Link to this definition">¶</a></dt>
<dd><p>Covariance maps for a set of PCs and a spatial-temporal field.</p>
<p>Given an array where the columns are PCs (e.g., as output from
<a class="reference internal" href="eofs.standard.html#eofs.standard.Eof.pcs" title="eofs.standard.Eof.pcs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eofs.standard.Eof.pcs</span></code></a>) and an array containing spatial-temporal
data where the first dimension represents time, one covariance map
per PC is computed.</p>
<p>The field must have the same temporal dimension as the PCs. Any
number of spatial dimensions (including zero) are allowed in the
field and there can be any number of PCs.</p>
<p><strong>Arguments:</strong></p>
<dl class="simple">
<dt><em>pcs</em></dt><dd><p>PCs as the columns of an array.</p>
</dd>
<dt><em>field</em></dt><dd><p>Spatial-temporal field with time as the first dimension.</p>
</dd>
</dl>
<p><strong>Optional arguments:</strong></p>
<dl class="simple">
<dt><em>ddof</em></dt><dd><p>‘Delta degrees of freedom’. The divisor used to normalize
the covariance matrix is <em>N - ddof</em> where <em>N</em> is the
number of samples. Defaults to <em>1</em>.</p>
</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="simple">
<dt><em>covariance_maps</em></dt><dd><p>An array with the covariance maps along the first dimension.</p>
</dd>
</dl>
<p><strong>Example:</strong></p>
<p>Compute covariance maps for each PC:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pcs</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">pcs</span><span class="p">(</span><span class="n">pcscaling</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">covariance_maps</span> <span class="o">=</span> <span class="n">covariance_maps</span><span class="p">(</span><span class="n">pcs</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-eofs.tools.iris">
<span id="eofs-tools-iris"></span><h2><a class="reference internal" href="#module-eofs.tools.iris" title="eofs.tools.iris"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eofs.tools.iris</span></code></a><a class="headerlink" href="#module-eofs.tools.iris" title="Link to this heading">¶</a></h2>
<p>Supplementary tools for the <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.html#module-iris" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iris</span></code></a> EOF analysis interface.</p>
<dl class="py function">
<dt class="sig sig-object py" id="eofs.tools.iris.weights_array">
<span class="sig-prename descclassname"><span class="pre">eofs.tools.iris.</span></span><span class="sig-name descname"><span class="pre">weights_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cube</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheme</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eofs/tools/iris.html#weights_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#eofs.tools.iris.weights_array" title="Link to this definition">¶</a></dt>
<dd><p>Weights for a data set on a grid.</p>
<p>Returned weights are a <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> broadcastable to the shape of
the input cube.</p>
<p><strong>Arguments:</strong></p>
<dl class="simple">
<dt><em>cube</em></dt><dd><p>An <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cube</span></code></a> instance to generate weights for.</p>
</dd>
<dt><em>scheme</em></dt><dd><p>Weighting scheme to use. The following values are accepted:</p>
<ul class="simple">
<li><p><em>‘coslat’</em> : Square-root of cosine of latitude.</p></li>
<li><dl class="simple">
<dt><em>‘area’</em><span class="classifier">Square-root of grid cell area normalized by total</span></dt><dd><p>grid area.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="simple">
<dt><em>weights</em></dt><dd><p>An array contanining the weights (not a <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cube</span></code></a>).</p>
</dd>
</dl>
<p><strong>Examples:</strong></p>
<p>Area weights for a <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cube</span></code></a> on 2D grid:</p>
<blockquote>
<div><p>weights = weights_array(cube, scheme=’area’)</p>
</div></blockquote>
<p>Square-root of cosine of latitude weights for a <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cube</span></code></a>
with a latitude dimension:</p>
<blockquote>
<div><p>weights = weights_array(cube, scheme=’coslat’)</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eofs.tools.iris.coord_and_dim">
<span class="sig-prename descclassname"><span class="pre">eofs.tools.iris.</span></span><span class="sig-name descname"><span class="pre">coord_and_dim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cube</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiple</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eofs/tools/iris.html#coord_and_dim"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#eofs.tools.iris.coord_and_dim" title="Link to this definition">¶</a></dt>
<dd><p>Retrieve a coordinate dimension and its corresponding position from
a <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cube</span></code></a> instance.</p>
<p><strong>Arguments:</strong></p>
<dl class="simple">
<dt><em>cube</em></dt><dd><p>An <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cube</span></code></a> instance to retrieve the dimension from.</p>
</dd>
<dt><em>coord</em></dt><dd><p>Name of the coordinate dimension to retrieve.</p>
</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="simple">
<dt><em>coord_tuple</em></dt><dd><p>A 2-tuple of (coordinate_dimension, dimension_number).</p>
</dd>
</dl>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version version: </span>1.2</p>
<p>The function <a class="reference internal" href="#eofs.tools.iris.get_time_coord" title="eofs.tools.iris.get_time_coord"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_time_coord</span></code></a> is used instead for finding time
coordinates. For other coordinates please use the iris built-in
functionality for locating required cooridnates.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eofs.tools.iris.get_time_coord">
<span class="sig-prename descclassname"><span class="pre">eofs.tools.iris.</span></span><span class="sig-name descname"><span class="pre">get_time_coord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cube</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eofs/tools/iris.html#get_time_coord"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#eofs.tools.iris.get_time_coord" title="Link to this definition">¶</a></dt>
<dd><p>Retrieve the time coordinate dimension and its corresponding
position from a <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cube</span></code></a> instance.</p>
<p><strong>Arguments:</strong></p>
<dl class="simple">
<dt><em>cube</em></dt><dd><p>An <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cube</span></code></a> instance to retrieve the dimension from.</p>
</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="simple">
<dt><em>coord_tuple</em></dt><dd><p>A 2-tuple of (coordinate_dimension, dimension_number).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eofs.tools.iris.classified_aux_coords">
<span class="sig-prename descclassname"><span class="pre">eofs.tools.iris.</span></span><span class="sig-name descname"><span class="pre">classified_aux_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cube</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eofs/tools/iris.html#classified_aux_coords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#eofs.tools.iris.classified_aux_coords" title="Link to this definition">¶</a></dt>
<dd><p>Classify a Cube’s auxiliary coordinates into those that span only
the time dimension, those that span only space dimensions, and those
that span both time and space dimensions.</p>
<p><strong>Arguments:</strong></p>
<dl class="simple">
<dt><em>cube</em></dt><dd><p>An <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cube</span></code></a> instance whose auxiliary coordinates should
be classified.</p>
</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="simple">
<dt><em>coord_sets</em></dt><dd><p>A 3-tuple of lists of coordinates. The first element is the list
of all auxiliary coordinates spannning only the time dimension,
the second element is the list of all auxiliary coordinates
spannning only space dimensions, and the third element is the
list of all auxiliary coordinates spannning both time and space
dimensions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eofs.tools.iris.common_items">
<span class="sig-prename descclassname"><span class="pre">eofs.tools.iris.</span></span><span class="sig-name descname"><span class="pre">common_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_set</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eofs/tools/iris.html#common_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#eofs.tools.iris.common_items" title="Link to this definition">¶</a></dt>
<dd><p>Given an iterable of lists, constructs a list of every item that is
present in all of the lists.</p>
<p><strong>Arguments:</strong></p>
<dl class="simple">
<dt><em>item_set</em></dt><dd><p>An iterable containing lists of items.</p>
</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="simple">
<dt><em>common</em></dt><dd><p>A list of the items which occur in all sublists in the input.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eofs.tools.iris.correlation_map">
<span class="sig-prename descclassname"><span class="pre">eofs.tools.iris.</span></span><span class="sig-name descname"><span class="pre">correlation_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pcs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eofs/tools/iris.html#correlation_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#eofs.tools.iris.correlation_map" title="Link to this definition">¶</a></dt>
<dd><p>Correlation between PCs and a field.</p>
<p>Computes maps of the correlation between each PC and the given
field at each grid point.</p>
<p>Given a set of PCs contained in a <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cube</span></code></a> (e.g., as output
from <a class="reference internal" href="eofs.iris.html#eofs.iris.Eof.pcs" title="eofs.iris.Eof.pcs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eofs.iris.Eof.pcs</span></code></a>) and a field with a time dimension
contained in a <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iris.cube.Cube</span></code></a>, one correlation map per PC is
computed.</p>
<p>The field must have the same length time dimension as the PCs. Any
number of spatial dimensions (including zero) are allowed in the
field and there can be any number of PCs.</p>
<p><strong>Arguments:</strong></p>
<dl class="simple">
<dt><em>pcs</em></dt><dd><p>PCs contained in a <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cube</span></code></a>.</p>
</dd>
<dt><em>field</em></dt><dd><p>Field Spatial-temporal field contained in a <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cube</span></code></a>.</p>
</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="simple">
<dt><em>correlation_maps</em></dt><dd><p>A <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cube</span></code></a> containing the correlation maps.</p>
</dd>
</dl>
<p><strong>Examples:</strong></p>
<p>Assuming <em>solver</em> is an instance of <a class="reference internal" href="eofs.iris.html#eofs.iris.Eof" title="eofs.iris.Eof"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eofs.iris.Eof</span></code></a>, compute
correlation maps for each PC:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pcs</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">pcs</span><span class="p">(</span><span class="n">pcscaling</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">correlation_maps</span> <span class="o">=</span> <span class="n">correlation_map</span><span class="p">(</span><span class="n">pcs</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eofs.tools.iris.covariance_map">
<span class="sig-prename descclassname"><span class="pre">eofs.tools.iris.</span></span><span class="sig-name descname"><span class="pre">covariance_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pcs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ddof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eofs/tools/iris.html#covariance_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#eofs.tools.iris.covariance_map" title="Link to this definition">¶</a></dt>
<dd><p>Covariance between PCs and a field.</p>
<p>Computes maps of the covariance between each PC and the given
field at each grid point.</p>
<p>Given a set of PCs contained in a <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cube</span></code></a> (e.g., as output
from <a class="reference internal" href="eofs.iris.html#eofs.iris.Eof.pcs" title="eofs.iris.Eof.pcs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eofs.iris.Eof.pcs</span></code></a>) and a field with a time dimension
contained in a <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iris.cube.Cube</span></code></a>, one covariance map per PC is
computed.</p>
<p>The field must have the same length time dimension as the PCs. Any
number of spatial dimensions (including zero) are allowed in the
field and there can be any number of PCs.</p>
<p><strong>Arguments:</strong></p>
<dl class="simple">
<dt><em>pcs</em></dt><dd><p>PCs contained in a <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cube</span></code></a>.</p>
</dd>
<dt><em>field</em></dt><dd><p>Field Spatial-temporal field contained in a <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cube</span></code></a>.</p>
</dd>
</dl>
<p><strong>Keyword arguments:</strong></p>
<dl class="simple">
<dt><em>ddof</em></dt><dd><p>‘Delta degrees of freedom’. The divisor used to normalize
the covariance matrix is <em>N - ddof</em> where <em>N</em> is the
number of samples. Defaults to <em>1</em>.</p>
</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="simple">
<dt><em>covariance_maps</em></dt><dd><p>A <a class="reference external" href="https://scitools-iris.readthedocs.io/en/latest/generated/api/iris.cube.html#iris.cube.Cube" title="(in Iris v3.12.0.dev14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cube</span></code></a> containing the covariance maps.</p>
</dd>
</dl>
<p><strong>Examples:</strong></p>
<p>Compute covariance maps for each PC:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pcs</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">pcs</span><span class="p">(</span><span class="n">pcscaling</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">covariance_maps</span> <span class="o">=</span> <span class="n">covariance_map</span><span class="p">(</span><span class="n">pcs</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-eofs.tools.xarray">
<span id="eofs-tools-xarray"></span><h2><a class="reference internal" href="#module-eofs.tools.xarray" title="eofs.tools.xarray"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eofs.tools.xarray</span></code></a><a class="headerlink" href="#module-eofs.tools.xarray" title="Link to this heading">¶</a></h2>
<p>Supplementary tools for the <a class="reference external" href="https://docs.xarray.dev/en/stable/index.html#module-xarray" title="(in xarray v2024.10.1.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xarray</span></code></a> EOF analysis interface.</p>
<dl class="py function">
<dt class="sig sig-object py" id="eofs.tools.xarray.find_time_coordinates">
<span class="sig-prename descclassname"><span class="pre">eofs.tools.xarray.</span></span><span class="sig-name descname"><span class="pre">find_time_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eofs/tools/xarray.html#find_time_coordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#eofs.tools.xarray.find_time_coordinates" title="Link to this definition">¶</a></dt>
<dd><p>Find time dimension coordinates in an <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray" title="(in xarray v2024.10.1.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xarray.DataArray</span></code></a>.</p>
<p>Time coordinates satisfy one or more of:</p>
<ul class="simple">
<li><p>Values have a dtype of <a class="reference external" href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.datetime64" title="(in NumPy v2.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.datetime64</span></code></a>.</p></li>
<li><p>Name of the coordinate is ‘time’.</p></li>
<li><p>The coordinate has an attribute ‘axis’ with value ‘T’.</p></li>
</ul>
<p><strong>Argument:</strong></p>
<dl class="simple">
<dt><em>array</em></dt><dd><p>An <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray" title="(in xarray v2024.10.1.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xarray.DataArray</span></code></a>.</p>
</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="simple">
<dt><em>time_coords</em></dt><dd><p>A list of time dimension coordinates. The list may be empty if
no coordinates were recognised as time.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eofs.tools.xarray.categorise_ndcoords">
<span class="sig-prename descclassname"><span class="pre">eofs.tools.xarray.</span></span><span class="sig-name descname"><span class="pre">categorise_ndcoords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eofs/tools/xarray.html#categorise_ndcoords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#eofs.tools.xarray.categorise_ndcoords" title="Link to this definition">¶</a></dt>
<dd><p>Categorise all the non-dimension coordinates of an
<a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray" title="(in xarray v2024.10.1.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xarray.DataArray</span></code></a> into those that span only time, those that span
only space, and those that span both time and space.</p>
<p><strong>Arguments:</strong></p>
<dl class="simple">
<dt><em>array</em></dt><dd><p>An <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray" title="(in xarray v2024.10.1.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xarray.DataArray</span></code></a>.</p>
</dd>
<dt><em>time_name</em></dt><dd><p>Name of the time dimension coordinate in the input <em>array</em>.</p>
</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="simple">
<dt><em>time_coords</em></dt><dd><p>A list of coordinates that span only the time dimension.</p>
</dd>
<dt><em>space_coords</em></dt><dd><p>A list of coordinates that span only the space dimensions.</p>
</dd>
<dt><em>time_space_coords</em></dt><dd><p>A list of coordinates that span both the time and space
coordinates.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eofs.tools.xarray.weights_array">
<span class="sig-prename descclassname"><span class="pre">eofs.tools.xarray.</span></span><span class="sig-name descname"><span class="pre">weights_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheme</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eofs/tools/xarray.html#weights_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#eofs.tools.xarray.weights_array" title="Link to this definition">¶</a></dt>
<dd><p>Generate a weights array for a given weighting scheme.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently not implemented, will raise a ValueError().</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eofs.tools.xarray.correlation_map">
<span class="sig-prename descclassname"><span class="pre">eofs.tools.xarray.</span></span><span class="sig-name descname"><span class="pre">correlation_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pcs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eofs/tools/xarray.html#correlation_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#eofs.tools.xarray.correlation_map" title="Link to this definition">¶</a></dt>
<dd><p>Correlation between PCs and a field.</p>
<p>Computes maps of the correlation between each PC and the given
field at each grid point.</p>
<p>Given a set of PCs contained in a <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray" title="(in xarray v2024.10.1.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataArray</span></code></a> (e.g., as
output from <a class="reference internal" href="eofs.xarray.html#eofs.xarray.Eof.pcs" title="eofs.xarray.Eof.pcs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eofs.xarray.Eof.pcs</span></code></a>) and a field with a time dimension
contained in a <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray" title="(in xarray v2024.10.1.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xarray.DataArray</span></code></a>, one correlation map per PC is
computed.</p>
<p>The field must have the same length time dimension as the PCs. Any
number of spatial dimensions (including zero) are allowed in the
field and there can be any number of PCs.</p>
<p><strong>Arguments:</strong></p>
<dl class="simple">
<dt><em>pcs</em></dt><dd><p>PCs contained in a <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray" title="(in xarray v2024.10.1.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataArray</span></code></a>.</p>
</dd>
<dt><em>field</em></dt><dd><p>Field Spatial-temporal field contained in a <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray" title="(in xarray v2024.10.1.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataArray</span></code></a>.</p>
</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="simple">
<dt><em>correlation_maps</em></dt><dd><p>A <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray" title="(in xarray v2024.10.1.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataArray</span></code></a> containing the correlation maps.</p>
</dd>
</dl>
<p><strong>Examples:</strong></p>
<p>Assuming <em>solver</em> is an instance of <a class="reference internal" href="eofs.xarray.html#eofs.xarray.Eof" title="eofs.xarray.Eof"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eofs.xarray.Eof</span></code></a>, compute
correlation maps for each PC:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pcs</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">pcs</span><span class="p">(</span><span class="n">pcscaling</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">correlation_maps</span> <span class="o">=</span> <span class="n">correlation_map</span><span class="p">(</span><span class="n">pcs</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="eofs.tools.xarray.covariance_map">
<span class="sig-prename descclassname"><span class="pre">eofs.tools.xarray.</span></span><span class="sig-name descname"><span class="pre">covariance_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pcs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ddof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eofs/tools/xarray.html#covariance_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#eofs.tools.xarray.covariance_map" title="Link to this definition">¶</a></dt>
<dd><p>Covariance between PCs and a field.</p>
<p>Computes maps of the covariance between each PC and the given
field at each grid point.</p>
<p>Given a set of PCs contained in a <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray" title="(in xarray v2024.10.1.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataArray</span></code></a> (e.g., as
output from <a class="reference internal" href="eofs.xarray.html#eofs.xarray.Eof.pcs" title="eofs.xarray.Eof.pcs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eofs.xarray.Eof.pcs</span></code></a>) and a field with a time dimension
contained in a <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray" title="(in xarray v2024.10.1.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xarray.DataArray</span></code></a>, one covariance map per PC is
computed.</p>
<p>The field must have the same length time dimension as the PCs. Any
number of spatial dimensions (including zero) are allowed in the
field and there can be any number of PCs.</p>
<p><strong>Arguments:</strong></p>
<dl class="simple">
<dt><em>pcs</em></dt><dd><p>PCs contained in a <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray" title="(in xarray v2024.10.1.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataArray</span></code></a>.</p>
</dd>
<dt><em>field</em></dt><dd><p>Field Spatial-temporal field contained in a <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray" title="(in xarray v2024.10.1.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataArray</span></code></a>.</p>
</dd>
</dl>
<p><strong>Keyword arguments:</strong></p>
<dl class="simple">
<dt><em>ddof</em></dt><dd><p>‘Delta degrees of freedom’. The divisor used to normalize
the covariance matrix is <em>N - ddof</em> where <em>N</em> is the
number of samples. Defaults to <em>1</em>.</p>
</dd>
</dl>
<p><strong>Returns:</strong></p>
<dl class="simple">
<dt><em>covariance_maps</em></dt><dd><p>A <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.DataArray.html#xarray.DataArray" title="(in xarray v2024.10.1.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataArray</span></code></a> containing the covariance maps.</p>
</dd>
</dl>
<p><strong>Examples:</strong></p>
<p>Assuming <em>solver</em> is an instance of <a class="reference internal" href="eofs.xarray.html#eofs.xarray.Eof" title="eofs.xarray.Eof"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eofs.xarray.Eof</span></code></a>, compute
covariance maps for each PC:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pcs</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">pcs</span><span class="p">(</span><span class="n">pcscaling</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">covariance_maps</span> <span class="o">=</span> <span class="n">covariance_map</span><span class="p">(</span><span class="n">pcs</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
  <script type=text/javascript src="/eofs/version_switch.js" async></script>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="eofs.multivariate.standard.html" title="eofs.multivariate.standard"
             >next</a> |</li>
        <li class="right" >
          <a href="eofs.xarray.html" title="eofs.xarray"
             >previous</a> |</li>
    <li><a href="../index.html">home</a>|&nbsp;</li>
    <li><a href="../search.html">search</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >API references</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">eofs.tools</span></code></a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2013-2024 Andrew Dawson.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>